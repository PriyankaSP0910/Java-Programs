package prog3;

class AccountDetails {
	private String accountHolder;
	private int accountNumber;
	private int balance;
	
	private static AccountDetails acc;
	private AccountDetails(String name, int no, int bal) {
		this.accountHolder = name;
		this.accountNumber = no;
		this.balance = bal;
	}
	public static AccountDetails getInstance(String name, int no, int bal) {
		if(acc == null) {
			synchronized(AccountDetails.class) {
				if(acc == null) {
					acc = new AccountDetails(name, no, bal);
				}
			}
		}
		return acc;
	}
	public String getName() {
		return accountHolder;
	}
	public int getNumber() {
		return accountNumber;
	}
	public int getBalance() {
		return balance;
	}
}


public class singleton {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Thread t1 = new Thread(new Runnable() {
			@Override
			public void run() {
				AccountDetails det1 = AccountDetails.getInstance("abc", 1250, 500);
				System.out.println("AccName:" + det1.getName());
				System.out.println("AccNo:" + det1.getNumber());
				System.out.println("Balance:" + det1.getBalance());		
			}
		});
		Thread t2 = new Thread(new Runnable() {
			@Override
			public void run() {
				AccountDetails det2 = AccountDetails.getInstance("xyz", 1135, 1000);
				System.out.println("AccName:" + det2.getName());
				System.out.println("AccNo:" + det2.getNumber());
				System.out.println("Balance:" + det2.getBalance());		
			}
		});
		t1.start();
		t2.start();


	}

}




package com.aravinda.aravinda;

import jakarta.ws.rs.Consumes;
import jakarta.ws.rs.GET;
import jakarta.ws.rs.POST;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.Produces;
import jakarta.ws.rs.core.MediaType;
@Path("/resource")
public class RESTapi {
	@GET
	@Path("/get")
	@Produces(MediaType.APPLICATION_JSON)
	public Producer getProducer() {
		Producer p=new Producer();
		p.setName("hp-pavilion");
		p.setId(1);
		return p;
		
	}
	@POST
	@Path("/post")
	@Consumes(MediaType.APPLICATION_JSON)
	public void consume(Producer p) {
		System.out.println(p.getId()+" "+p.getName());
	}
}

package com.aravinda.aravinda;

public class Producer {
	String name;
	int id;
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
}
